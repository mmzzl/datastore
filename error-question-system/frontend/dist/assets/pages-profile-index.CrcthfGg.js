import{_ as t,m as s,x as a,c as e,w as l,y as n,s as o,a as c,n as i,i as u,o as f,e as d,f as r,h as _,j as g,t as h,u as m}from"./index-C1huu0wr.js";const p=t({data:()=>({stats:{totalQuestions:0,solvedQuestions:0,correctRate:0}}),computed:{...a("user",["userInfo","token"]),isLoggedIn(){return!!this.token}},onLoad(){this.loadUserInfo(),this.loadStats()},onShow(){this.loadUserInfo(),this.loadStats()},methods:{...s("user",["getUserInfo","logout"]),async loadUserInfo(){if(this.isLoggedIn)try{await this.getUserInfo()}catch(t){console.error("è·å–ç”¨æˆ·ä¿¡æ¯å¤±è´¥:",t)}},async loadStats(){if(this.isLoggedIn)try{this.stats={totalQuestions:25,solvedQuestions:18,correctRate:72}}catch(t){console.error("åŠ è½½ç»Ÿè®¡æ•°æ®å¤±è´¥:",t)}},async handleLogout(){c({title:"æç¤º",content:"ç¡®å®šè¦é€€å‡ºç™»å½•å—ï¼Ÿ",success:async t=>{if(t.confirm)try{await this.logout(),o({title:"å·²é€€å‡ºç™»å½•",icon:"success"}),this.loadStats()}catch(s){console.error("é€€å‡ºç™»å½•å¤±è´¥:",s),o({title:"é€€å‡ºç™»å½•å¤±è´¥",icon:"none"})}}})},navigateToLogin(){i({url:"/pages/login/index"})},navigateTo(t){if(!this.isLoggedIn)return o({title:"è¯·å…ˆç™»å½•",icon:"none"}),void setTimeout(()=>{this.navigateToLogin()},1500);i({url:t})},showAbout(){c({title:"å…³äºæˆ‘ä»¬",content:"æ™ºèƒ½é”™é¢˜æœ¬ v1.0.0\n\nä¸€æ¬¾å¸®åŠ©å­¦ç”Ÿé«˜æ•ˆç®¡ç†é”™é¢˜ã€æå‡å­¦ä¹ æ•ˆç‡çš„åº”ç”¨ã€‚",showCancel:!1})},showFeedback(){c({title:"æ„è§åé¦ˆ",content:"å¦‚æœ‰ä»»ä½•é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»æˆ‘ä»¬ï¼š\n\né‚®ç®±ï¼šfeedback@example.com\nç”µè¯ï¼š400-123-4567",showCancel:!1})},shareApp(){uni.share({provider:"weixin",scene:"WXSceneSession",type:0,href:"https://example.com",title:"æ™ºèƒ½é”™é¢˜æœ¬",summary:"é«˜æ•ˆå­¦ä¹ ï¼Œç²¾å‡†æå‡",imageUrl:"/static/images/logo.png",success:()=>{o({title:"åˆ†äº«æˆåŠŸ",icon:"success"})},fail:()=>{n({data:"https://example.com",success:()=>{o({title:"é“¾æ¥å·²å¤åˆ¶",icon:"success"})}})}})}}},[["render",function(t,s,a,n,o,c){const i=r,p=_,k=u,v=m;return f(),e(k,{class:"profile-page"},{default:l(()=>[d(k,{class:"user-info-section"},{default:l(()=>[d(k,{class:"user-avatar"},{default:l(()=>[d(i,{class:"avatar",src:t.userInfo.avatar||"/static/images/default-avatar.png",mode:"aspectFill"},null,8,["src"]),d(p,{class:"username"},{default:l(()=>[g(h(t.userInfo.username||"æœªç™»å½•"),1)]),_:1})]),_:1}),d(k,{class:"user-stats"},{default:l(()=>[d(k,{class:"stat-item"},{default:l(()=>[d(p,{class:"stat-number"},{default:l(()=>[g(h(o.stats.totalQuestions),1)]),_:1}),d(p,{class:"stat-label"},{default:l(()=>[g("æ€»é”™é¢˜")]),_:1})]),_:1}),d(k,{class:"stat-item"},{default:l(()=>[d(p,{class:"stat-number"},{default:l(()=>[g(h(o.stats.solvedQuestions),1)]),_:1}),d(p,{class:"stat-label"},{default:l(()=>[g("å·²è§£å†³")]),_:1})]),_:1}),d(k,{class:"stat-item"},{default:l(()=>[d(p,{class:"stat-number"},{default:l(()=>[g(h(o.stats.correctRate)+"%",1)]),_:1}),d(p,{class:"stat-label"},{default:l(()=>[g("æ­£ç¡®ç‡")]),_:1})]),_:1})]),_:1})]),_:1}),d(k,{class:"function-list"},{default:l(()=>[d(k,{class:"function-item",onClick:s[0]||(s[0]=t=>c.navigateTo("/pages/answers/list"))},{default:l(()=>[d(k,{class:"function-left"},{default:l(()=>[d(p,{class:"function-icon"},{default:l(()=>[g("ğŸ“")]),_:1}),d(p,{class:"function-title"},{default:l(()=>[g("æˆ‘çš„è§£ç­”")]),_:1})]),_:1}),d(p,{class:"function-arrow"},{default:l(()=>[g(">")]),_:1})]),_:1}),d(k,{class:"function-item",onClick:s[1]||(s[1]=t=>c.navigateTo("/pages/categories/list"))},{default:l(()=>[d(k,{class:"function-left"},{default:l(()=>[d(p,{class:"function-icon"},{default:l(()=>[g("ğŸ“š")]),_:1}),d(p,{class:"function-title"},{default:l(()=>[g("é”™é¢˜åˆ†ç±»")]),_:1})]),_:1}),d(p,{class:"function-arrow"},{default:l(()=>[g(">")]),_:1})]),_:1}),d(k,{class:"function-item",onClick:s[2]||(s[2]=t=>c.navigateTo("/pages/statistics/index"))},{default:l(()=>[d(k,{class:"function-left"},{default:l(()=>[d(p,{class:"function-icon"},{default:l(()=>[g("ğŸ“Š")]),_:1}),d(p,{class:"function-title"},{default:l(()=>[g("å­¦ä¹ ç»Ÿè®¡")]),_:1})]),_:1}),d(p,{class:"function-arrow"},{default:l(()=>[g(">")]),_:1})]),_:1}),d(k,{class:"function-item",onClick:s[3]||(s[3]=t=>c.navigateTo("/pages/settings/index"))},{default:l(()=>[d(k,{class:"function-left"},{default:l(()=>[d(p,{class:"function-icon"},{default:l(()=>[g("âš™ï¸")]),_:1}),d(p,{class:"function-title"},{default:l(()=>[g("è®¾ç½®")]),_:1})]),_:1}),d(p,{class:"function-arrow"},{default:l(()=>[g(">")]),_:1})]),_:1})]),_:1}),d(k,{class:"other-list"},{default:l(()=>[d(k,{class:"function-item",onClick:c.showAbout},{default:l(()=>[d(k,{class:"function-left"},{default:l(()=>[d(p,{class:"function-icon"},{default:l(()=>[g("â„¹ï¸")]),_:1}),d(p,{class:"function-title"},{default:l(()=>[g("å…³äºæˆ‘ä»¬")]),_:1})]),_:1}),d(p,{class:"function-arrow"},{default:l(()=>[g(">")]),_:1})]),_:1},8,["onClick"]),d(k,{class:"function-item",onClick:c.showFeedback},{default:l(()=>[d(k,{class:"function-left"},{default:l(()=>[d(p,{class:"function-icon"},{default:l(()=>[g("ğŸ’¬")]),_:1}),d(p,{class:"function-title"},{default:l(()=>[g("æ„è§åé¦ˆ")]),_:1})]),_:1}),d(p,{class:"function-arrow"},{default:l(()=>[g(">")]),_:1})]),_:1},8,["onClick"]),d(k,{class:"function-item",onClick:c.shareApp},{default:l(()=>[d(k,{class:"function-left"},{default:l(()=>[d(p,{class:"function-icon"},{default:l(()=>[g("ğŸ”—")]),_:1}),d(p,{class:"function-title"},{default:l(()=>[g("åˆ†äº«åº”ç”¨")]),_:1})]),_:1}),d(p,{class:"function-arrow"},{default:l(()=>[g(">")]),_:1})]),_:1},8,["onClick"])]),_:1}),c.isLoggedIn?(f(),e(k,{key:0,class:"logout-section"},{default:l(()=>[d(v,{class:"logout-btn",onClick:c.handleLogout},{default:l(()=>[g("é€€å‡ºç™»å½•")]),_:1},8,["onClick"])]),_:1})):(f(),e(k,{key:1,class:"login-section"},{default:l(()=>[d(v,{class:"login-btn",onClick:c.navigateToLogin},{default:l(()=>[g("ç«‹å³ç™»å½•")]),_:1},8,["onClick"])]),_:1}))]),_:1})}],["__scopeId","data-v-e0c91748"]]);export{p as default};
